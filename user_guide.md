# フリカレ監視BOT 利用ガイド v5.0

## 📋 目次

1. [BOTについて](#botについて)
2. [基本的な使い方](#基本的な使い方)
3. [今日の予定確認機能](#今日の予定確認機能)
4. [全予定確認機能](#全予定確認機能)
5. [自動通知について](#自動通知について)
6. [よくある質問](#よくある質問)
7. [コマンド一覧](#コマンド一覧)

---

## 🤖 BOTについて

### フリカレ監視BOTとは？

このBOTは「フリカレ（フリーカレンダー）」のスケジュールを監視し、変更があった場合にDiscordで通知するBOTです。

### 主な機能（v7.0.0）

- 📅 **自動監視**: 6時間ごとに全員のスケジュールを自動チェック
- 🔥 **今日の予定確認**: `!check`コマンドで本日の予定のみを表示
- ⏰ **全予定確認**: `!calendar`コマンドで今後の全予定を表示
- 🔔 **変更通知**: スケジュールに変更があった場合のみ通知
- 📸 **デバッグ機能**: 取得失敗時の自動スクリーンショット保存

### 対応している人

現在監視している人の一覧は `!check` コマンド（引数なし）で確認できます。

---

## 🚀 基本的な使い方

### コマンドの入力方法

すべてのコマンドは「`!`」（半角エクスクラメーション）から始まります。

**正しい例:**
```
!check
!calendar ユーザーA
```

**間違った例:**
```
！check     （全角なのでNG）
check       （!がないのでNG）
! check     （スペースが入っているのでNG）
```

---

## 🔥 今日の予定確認機能

### 監視対象の確認

```
!check
```

現在監視している人の一覧が表示されます。

**表示例:**
```
📋 監視ユーザー一覧
`234567`: **ユーザーA**
`123456`: **山田さん**

使い方: !check [名前] で今日の予定、!calendar [名前] で全予定
```

### 今日の予定を確認

```
!check [名前またはID]
```

指定した人の**本日の予定のみ**を表示します。

#### 名前で検索
```
!check ユーザー
!check 山田
```
- 名前の一部でも検索可能
- 大文字小文字は区別しません

#### IDで検索
```
!check 123456
```
- より確実に検索したい場合はIDを使用

### 今日の予定表示の見方

**表示例:**
```
🔥 ユーザーAの【今日の予定】

🔹 06/23 14:00 - 会議
🔹 06/23 18:00 - 懇親会

👤 ユーザー: `123456`
🕐 確認時刻: 14:30
🔗 URL: [フリカレを開く]
```

**本日の予定がない場合:**
```
🔥 ユーザーAの【今日の予定】

今日の予定はありません。

👤 ユーザー: `123456`
🕐 確認時刻: 14:30
🔗 URL: [フリカレを開く]
```

### 表示内容の説明

- **🔥 タイトル**: 今日の予定であることを示します
- **🔹 予定**: 各予定の時刻と内容
- **👤 ユーザー**: フリカレのユーザーID
- **🕐 確認時刻**: コマンドを実行した時刻
- **🔗 URL**: フリカレへの直接リンク

---

## ⏰ 全予定確認機能

### 今後の全予定を表示

```
!calendar [名前またはID]
```

**使用例:**
```
!calendar ユーザーA
```

指定した人の今後の全予定を時系列順に表示します。

**表示例:**
```
⏰ ユーザーAの【今後の全予定】

🔹 06/23 14:00 - 会議
🔹 06/23 18:00 - 懇親会
🔹 06/24 10:00 - 定例ミーティング
🔹 06/25 15:00 - プレゼン
🔹 06/28 終日 - 出張

👤 ユーザー: `230522`
🕐 確認時刻: 14:30
🔗 URL: [フリカレを開く]
```

### 表示内容について

- **⏰ タイトル**: 全予定であることを示します
- 今日から将来の予定すべてを表示
- 過去の予定は表示されません
- 時系列順（日付→時刻）に並べて表示
- 予定が多い場合は一部省略される場合があります

---

## 🔔 自動通知について

### 通知のタイミング

- **定期チェック**: 6時間ごと
- **通知条件**: スケジュールに変更があった場合のみ
- **通知場所**: 管理者が設定したチャンネル

### 通知の内容

**通知例:**
```
📅 ユーザーAのスケジュール更新

🔹 06/23 14:00 - 会議
🔹 06/23 18:00 - 懇親会
🔹 06/24 10:00 - 定例ミーティング
（以下省略）

👤 ユーザー: `230522`
🕐 確認時刻: 14:30
🔗 URL: [フリカレを開く]
```

### 通知を見逃した場合

- 今日の予定を確認: `!check [名前]`
- 全予定を確認: `!calendar [名前]`

いつでも最新の情報を確認できます。

---

## ❓ よくある質問

### Q1. checkとcalendarの違いは？

- **!check**: 今日の予定だけを表示
  - 朝の確認に便利
  - 今日の会議や約束をすぐに把握
  - 🔥アイコンで表示
  
- **!calendar**: 今後の全予定を表示
  - 週間・月間の予定把握に便利
  - 今後の予定を計画的に確認
  - ⏰アイコンで表示

### Q2. 「ユーザーが見つかりません」と表示されます

**対処法:**
1. `!check`（引数なし）で監視対象リストを確認
2. 名前の一部だけで検索してみる
   - 例：「田中太郎」→「田中」
3. IDで検索してみる
4. それでも見つからない場合は管理者に登録を依頼

### Q3. スケジュールが取得できません

**考えられる原因:**
- フリカレに予定が登録されていない
- 過去の予定しかない（BOTは今日以降の予定のみ表示）
- フリカレがメンテナンス中
- 一時的なアクセスエラー

**対処法:**
- しばらく待ってから再度実行
- フリカレのページを直接確認
- 管理者に連絡

### Q4. 自動通知が来ません

**確認事項:**
- スケジュールに実際に変更があったか
- 通知チャンネルに参加しているか
- 定期監視が動作しているか（管理者に確認）

### Q5. 予定の時刻がおかしい

フリカレ側で午前/午後の設定が正しくない場合、時刻がずれることがあります。
フリカレで予定を確認・修正してください。

### Q6. BOTが反応しません

**確認事項:**
1. `!` は半角で入力していますか？
2. BOTがオンライン状態（緑色）になっていますか？
3. BOTがいるチャンネルでコマンドを実行していますか？
4. コマンドのスペルは正しいですか？

---

## 📝 コマンド一覧

### 一般ユーザー向けコマンド

| コマンド | 説明 | 使用例 |
|---------|------|--------|
| `!check` | 監視ユーザー一覧表示 | `!check` |
| `!check [名前/ID]` | 今日の予定を確認 | `!check ユーザーA` |
| `!calendar [名前/ID]` | 今後の全予定を表示 | `!calendar 230522` |

### 管理者限定コマンド

管理者権限を持つユーザーのみ使用可能：

| コマンド | 説明 |
|---------|------|
| `!status` | 監視状況確認 |
| `!setchannel` | 通知チャンネル設定 |
| `!adduser` | ユーザー追加 |
| `!removeuser` | ユーザー削除 |

---

## 💡 便利な使い方

### 1. 朝のルーティン

出社時に今日の予定を確認：
```
!check 自分の名前
```
🔥アイコンで今日の予定が一目でわかります。

### 2. 週初めの確認

月曜日に今週の予定を把握：
```
!calendar 自分の名前
```
⏰アイコンで今後の全予定を確認できます。

### 3. ミーティング前の確認

相手の今日の空き時間を確認：
```
!check 相手の名前
```

### 4. プロジェクト計画

チームメンバーの今後の予定を確認：
```
!calendar メンバーA
!calendar メンバーB
```

---

## 🛡️ プライバシーとセキュリティ

- BOTは公開されているフリカレの情報のみを取得します
- 個人情報は最小限の保存に留めています
- スケジュール情報は指定されたチャンネルにのみ投稿されます
- 過去の予定は取得・表示しません

---

## 📞 サポート

### 機能に関する要望

以下のような要望がある場合は管理者にお伝えください：

- 特定の期間の予定だけ見たい
- リマインダー機能が欲しい
- 予定の検索機能が欲しい
- 通知のカスタマイズ

### 不具合を見つけたら

以下の情報と共に管理者に報告してください：

1. 使用したコマンド
2. 期待した結果
3. 実際の結果
4. エラーメッセージ（あれば）
5. 発生日時

---

## 🎯 使用上のマナー

- 過度な頻度でのチェックは避けましょう（サーバー負荷軽減のため）
- 他の人のスケジュールは業務上必要な範囲で確認しましょう
- BOTの応答を待ってから次のコマンドを実行しましょう
- エラーが続く場合は管理者に連絡しましょう

---

## 📈 バージョン情報

- **現在のバージョン**: 7.0.0
- **最終更新日**: 2025年6月23日
- **主な特徴**: 
  - ccexp要素の直接解析による高精度なスケジュール取得
  - 今日の予定（🔥）と全予定（⏰）の明確な区別
  - 詳細なフッター情報表示

---

*フリカレ監視BOT 利用ガイド v5.0 - 2025年6月23日*